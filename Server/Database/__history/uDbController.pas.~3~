unit uDbController;

interface

uses
  System.SysUtils, System.Classes;

type
  TDbController = class(TDataModule)
  private
    { Private declarations }
    class var FInstance: TDBController;
  public
    { Public declarations }
    class function Shared: TDbController;
    class destructor Destroy;
  end;

var
  DbController: TDbController;

implementation

{%CLASSGROUP 'Vcl.Controls.TControl'}

{$R *.dfm}

{ TDbController }

class destructor TDbController.Destroy;
begin
   if Assigned( FInstance ) then
  begin
    FInstance.Free;
  end;
end;

class function TDbController.Shared: TDbController;
begin
  if not Assigned( FInstance ) then
  begin
    FInstance := TDbController.Create(nil);
  end;
  Result := FInstance;

end;

end.
